---
title: f2fs 二三事
date: 2025-09-07 21:09:47
tags:
 - f2fs
summary:
---

## 概述
F2FS(Flash Friendly File System) 是三星在 2012 年设计，2016 年大规模普及的一种较为新颖且获得了 Linux 内核支持的一种文件系统。目的是为了更好支持 NAND 一类的闪存设备。这在嵌入式设备中尤为明显。

例如，在安卓设备中，F2FS 的读写性能普遍超过了为通用块设计、未对闪存深度优化的 ext4。这也是华为 mate9 “18 个月流畅不卡”的底气所在。原因是华为工程师基于 F2FS 进行了深度优化。

## 差异
F2FS 相较于 ext4 的优缺点。
- 更快的随机读写速度
- 更长的闪存寿命 
- 更低的碎片整理频率
- 更小众，目前只有安卓设备在大规模推广
- 更高的存储占用
- 更大的大文件读取波动

F2FS 相较于 BTRFS 的优缺点。
- 更快的随机读写速度
- 更长的闪存寿命 
- 更低的系统开销
- 更积极的 TRIM
- 更少的功能
- 更低的数据回复率
- 更小众，目前只有安卓设备在大规模推广
- 更大的大文件读取波动

## 优化
WIP
